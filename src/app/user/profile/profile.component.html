<div *ngIf="isUserDataLoaded" class="user-profile">

  <h1>Profile</h1>
  <div style="text-align: right">
    <button mat-flat-button color="primary" (click)="openEditDialog()">Edit Info</button>
  </div>

  <div style="padding-top: 2rem" class="row">
    <div class="col">
      <img class="profile-image" [src]="previewImageURL || formatImage(userProfileImage) || 'https://www.missingdogsuk.co.uk/wp-content/plugins/wp-job-manager-resumes/assets/images/candidate.png'" alt="user image">

      <input type="file"
             style="display: none"
             #fileInput
             (change)="onFileSelected($event)">

      <button mat-button (click)="fileInput.click()">Pick File</button>
      <button mat-button *ngIf="selectedFile" (click)="onUpload()">Upload</button>
    </div>
    <div class="col">
      <h3>Email: <h4>{{user.email}}</h4></h3>
      <h3>Full name:  <h4>{{user.firstName}} {{user.lastName}} {{user.middleName}}</h4></h3>
    </div>
    <div class="col">
      <h3>Phone number:  <h4>{{user.phoneNumber}}</h4></h3>
      <h3 *ngIf="user.iin != null">IIN: <h4>{{user.iin}}</h4></h3>
      <h3 *ngIf="user.dob != null">Date of birth: <h4>{{user.dob}}</h4></h3>
    </div>
    <div class="col">
      <h3 *ngIf="user.schoolName != null">School name: <h4>{{user.schoolName }}</h4></h3>
      <h3 *ngIf="user.schoolCity != null">School city: <h4>{{user.schoolCity}}</h4></h3>
      <h3 *ngIf="user.schoolState != null">School state: <h4>{{user.schoolState}}</h4></h3>
    </div>
    <div class="col">
      <h3 *ngIf="user.startDate != null">Start date: <h4>{{user.startDate}}</h4></h3>
      <h3 *ngIf="user.endDate != null">End date: <h4>{{user.endDate}}</h4></h3>
    </div>
<!--    <div class="col" style="text-align: left">-->
<!--      <div class="row">-->
<!--        <div class="col">-->
<!--          <h3>Email: <h4>{{user.email}}</h4></h3>-->
<!--          <h3>Full name:  <h4>{{user.firstName}} {{user.lastName}} {{user.middleName}}</h4></h3>-->
<!--        </div>-->
<!--        <div class="col">-->
<!--          <h3>Phone number:  <h4>{{user.phoneNumber}}</h4></h3>-->
<!--          <h3 *ngIf="user.iin != null">IIN: <h4>{{user.iin}}</h4></h3>-->
<!--          <h3 *ngIf="user.dob != null">Date of birth: <h4>{{user.dob}}</h4></h3>-->
<!--        </div>-->
<!--        <div class="col">-->
<!--          <h3 *ngIf="user.schoolName != null">School name: <h4>{{user.schoolName }}</h4></h3>-->
<!--          <h3 *ngIf="user.schoolCity != null">School city: <h4>{{user.schoolCity}}</h4></h3>-->
<!--          <h3 *ngIf="user.schoolState != null">School state: <h4>{{user.schoolState}}</h4></h3>-->
<!--        </div>-->
<!--        <div class="col">-->
<!--          <h3 *ngIf="user.startDate != null">Start date: <h4>{{user.startDate}}</h4></h3>-->
<!--          <h3 *ngIf="user.endDate != null">End date: <h4>{{user.endDate}}</h4></h3>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

    <mat-divider style="margin: 3rem 0"></mat-divider>

    <router-outlet></router-outlet>

  </div>
<!--  <mat-divider style="margin: 2rem 0"></mat-divider>-->

  <div class="row">
    <div class="col">
      <h3>Upload attestation file</h3>
      <input type="file"
             style="display: none"
             #fileInput
             (change)="onFileSelected($event)">

      <button mat-button (click)="fileInput.click()">Choose file</button>
      <button mat-button *ngIf="selectedFile" (click)="onUpload()">Upload</button>
    </div>
    <div class="col">
      <h3>Upload IIN file</h3>
      <input type="file"
             style="display: none"
             #fileInput
             (change)="onFileSelected($event)">

      <button mat-button (click)="fileInput.click()">Choose file</button>
      <button mat-button *ngIf="selectedFile" (click)="onUpload()">Upload</button>
    </div>
  </div>

</div>
